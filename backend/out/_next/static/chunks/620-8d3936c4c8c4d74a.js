"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{6463:function(e,t,a){var n=a(1169);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},6146:function(e,t,a){a.d(t,{E:function(){return m}});var n=a(7437),r=a(2265),o=a(1392),c=a(1567),i=a(8804),l=a(4769),s=a(126);function u(e){var t;let{options:a,value:o,onChange:c,label:i,id:u}=e,[m,d]=(0,r.useState)(!1),f=(0,r.useRef)(null);return(0,l.O)(f,function(){d(!1)}),(0,n.jsxs)("article",{className:"select-option flex column",children:[(0,n.jsx)("label",{htmlFor:u,children:i}),(0,n.jsxs)("div",{ref:f,className:"custom-select-container w-100",id:u,children:[(0,n.jsxs)("div",{className:"selected-value flex row align-center justify-between fast-trans ".concat(m?"open":""),onClick:()=>d(!m),children:[null===(t=a.find(e=>e.value===o))||void 0===t?void 0:t.label,(0,n.jsx)(s.M,{iconName:"arrowRight"})]}),m&&(0,n.jsx)("div",{className:"options-container",children:a.map(e=>(0,n.jsxs)("div",{className:"option flex row align-center justify-between fast-trans",onClick:()=>{c(e.value),d(!1)},children:[e.label,(0,n.jsx)(s.M,{iconName:e.iconName})]},e.value))})]})]})}function m(e){let{defaultValues:t,updateSearchParams:a}=e,l=new o.h,m=l.getGenres(),d=l.getPlatforms(),f=l.getGameJams(),[h,g]=(0,r.useState)(t),p=(0,i.N)(h,1e3);return(0,r.useEffect)(()=>{c.t.areEqual(p,t)||a(p)},[p,t]),(0,n.jsxs)("article",{className:"filter-area flex column layout-row w-100",children:[(0,n.jsx)("input",{type:"text",name:"name",placeholder:"Search by name...",maxLength:30,value:h.name||"",onChange:function(e){let{name:t,value:a}=e.target;g(e=>({...e,[t]:a}))}}),(0,n.jsx)(s.M,{iconName:"search"}),(0,n.jsxs)("div",{className:"select-options grid",children:[(0,n.jsx)(u,{options:d,value:h.platform||"",onChange:e=>g(t=>({...t,platform:e})),label:"Select Platform",id:"platform-select"}),(0,n.jsx)(u,{options:m,value:h.genre||"",onChange:e=>g(t=>({...t,genre:e})),label:"Select Genre",id:"genre-select"}),(0,n.jsx)(u,{options:f,value:h.isGameJam||"",onChange:e=>g(t=>({...t,isGameJam:e})),label:"Made for Jam?",id:"isGameJam-select"})]})]})}},3394:function(e,t,a){a.d(t,{b:function(){return u}});var n=a(7437),r=a(7138),o=a(6463),c=a(6370),i=a(126);function l(e){let{game:t,isAdminPage:a}=e,l=(0,o.useRouter)();return(0,n.jsxs)(r.default,{href:"/games/".concat(t.name),"aria-label":"noffty-game",className:"flex column align-center w-100 text-capitalize",children:[(0,n.jsxs)("div",{className:"preview-body w-100 h-fit",children:[(0,n.jsx)(c.ImageContainer,{src:t.screenshots[0],alt:t.name}),"yes"===t.isGameJam&&(0,n.jsx)("span",{className:"gmtk fast-trans",title:"Game{Jam} Submission","aria-label":"GameJam Submission",children:"JAM"}),(0,n.jsx)("span",{className:"icon fast-trans","aria-label":"Game meant playing on ".concat(t.platform),children:t.platform.toUpperCase()}),a&&(0,n.jsx)("button",{className:"flex full-center",onClick:function(e){e.preventDefault(),l.push("/admin/edit/".concat(t.name))},children:(0,n.jsx)(i.M,{iconName:"edit"})})]}),(0,n.jsxs)("div",{className:"preview-info grid w-100 h-fit",children:[(0,n.jsx)(c.ImageContainer,{src:t.icon,alt:t.name}),(0,n.jsx)("h3",{title:t.name,children:t.name}),(0,n.jsx)("p",{title:t.note,children:t.note})]})]},t.name)}function s(e){let{message:t}=e;return(0,n.jsxs)("article",{className:"error-container flex column",children:[(0,n.jsxs)("div",{className:"error-area flex row align-center",children:[(0,n.jsx)(c.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1716704407/hgqpxtysqdjvav72w8dl.avif",alt:"Error.."}),(0,n.jsx)("span",{children:t})]}),(0,n.jsx)("a",{href:"/","aria-label":"Go to home page",title:"Return to home page?",children:"Return to home?"})]})}function u(e){let{games:t,isAdminPage:a}=e;return(0,n.jsx)("div",{className:"game-list grid w-100",children:0===t.length?(0,n.jsx)(s,{message:"No games found..."}):t.map(e=>(0,n.jsx)(l,{game:e,isAdminPage:a},e.name))})}},6370:function(e,t,a){a.d(t,{ImageContainer:function(){return i}});var n=a(7437),r=a(6648),o=a(2262),c=a(2265);function i(e){let{src:t,alt:a,style:i,className:l,width:s,height:u}=e,[m,d]=(0,c.useState)({width:s||100,height:u||100}),[f,h]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{if(t&&(!s||!u)){let e=new window.Image;e.onload=()=>{d({width:e.width,height:e.height})},e.src=t}},[t,s,u]),t)?(0,n.jsx)("div",{className:"image-container w-100 ".concat(l),style:i,children:(0,n.jsx)(r.default,{loader:o.default,src:t,alt:a,width:m.width,height:m.height,className:"w-h-100 ".concat(f?"opacity-100":"opacity-0"),onLoad:()=>h(!0),placeholder:"blur",blurDataURL:(0,o.default)({src:t,width:25,quality:1})})}):null}},2817:function(e,t,a){a.d(t,{Loader:function(){return c}});var n=a(7437),r=a(2265),o=a(6370);function c(){let e=["Fetching data...","Almost there...","One moment...","Loading content...","Hang tight...","Standby, gamer...","Boiling the point...","Cleansing corruption...","Combining waves...","Loading^2...","Subscribe to T1mure!","T2mure is also cool...","Where is T3mure?"],[t,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{a(function(){let t=Math.floor(Math.random()*e.length);return e[t]}())},[]),(0,n.jsxs)("article",{className:"loader-container flex column align-center",children:[(0,n.jsx)("span",{className:"text-center",children:t}),(0,n.jsx)(o.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1715092957/rofgvwuxaocbanu3fpzl.gif",alt:"Loading..."}),(0,n.jsx)(o.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1716704406/ogkkverm9r1wxupucbxp.avif",alt:"Loading..."})]})}},4769:function(e,t,a){a.d(t,{O:function(){return r}});var n=a(2265);function r(e,t){(0,n.useEffect)(()=>{function a(a){e.current&&!e.current.contains(a.target)&&t()}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[e,t])}},8804:function(e,t,a){a.d(t,{N:function(){return r}});var n=a(2265);function r(e,t){let[a,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let a=setTimeout(()=>{r(e)},t);return()=>clearTimeout(a)},[e,t]),a}},3671:function(e,t,a){a.d(t,{H:function(){return o}});var n=a(2265),r=a(6463);function o(){let e=(0,r.useRouter)(),t=(0,r.useSearchParams)(),a=(0,n.useMemo)(()=>new URLSearchParams(t.toString()),[t]);return{getDefaultFilterValues:(0,n.useCallback)(function(){return{name:a.get("name")||"",platform:a.get("platform")||"",genre:a.get("genre")||"",isGameJam:a.get("isGameJam")||""}},[a]),updateSearchParams:(0,n.useCallback)(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,a]=e;a?n.set(t,a):n.delete(t)});let r=a?"".concat(a,"?").concat(n.toString()):"?".concat(n.toString());e.push(r)},[e]),searchParams:a}}},2262:function(e,t,a){function n(e){let{src:t,width:a,quality:n}=e,[r,o]=t.split("/upload/");return"".concat(r,"/upload/").concat(["f_auto","c_limit","w_".concat(a),"q_".concat(n||"auto")].join(","),"/").concat(o)}a.r(t),a.d(t,{default:function(){return n}})},1392:function(e,t,a){a.d(t,{h:function(){return o}});var n=a(6863);let r="game/";class o{async query(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return console.log("Excepted request to backend: ".concat(r,"?").concat(t)),n.O.get("".concat(r,"?").concat(t))}async getById(e){return n.O.get("".concat(r,"by-id/").concat(e))}async getByName(e){return n.O.get("".concat(r,"by-name/").concat(e))}async checkNameAvailable(e){return n.O.get("".concat(r,"check-name/").concat(e))}async save(e){return e._id?n.O.put("".concat(r,"update/").concat(e._id),e):n.O.post(r+"add/",e)}async remove(e){return n.O.remove("".concat(r,"delete/").concat(e))}getDefaultFilter(){return{name:"",platform:"",genre:"",isGameJam:""}}getGenres(){return[{label:"Any",value:"",iconName:"globe"},{label:"Action",value:"action",iconName:"action"},{label:"Adventure",value:"adventure",iconName:"adventure"},{label:"Other",value:"other",iconName:"questionMark"},{label:"Platformer",value:"platformer",iconName:"platformer"},{label:"Puzzle",value:"puzzle",iconName:"puzzle"},{label:"Roguelike",value:"roguelike",iconName:"dice"}]}getPlatforms(){return[{label:"Any",value:"",iconName:"globe"},{label:"Android",value:"android",iconName:"android"},{label:"Browser",value:"html5",iconName:"html5"},{label:"Steam",value:"steam",iconName:"steam"}]}getGameJams(){return[{label:"Any",value:"",iconName:"globe"},{label:"Yes",value:"yes",iconName:"confirm"},{label:"No",value:"no",iconName:"cancel"}]}}},6863:function(e,t,a){a.d(t,{O:function(){return n}});let n={request:r,get:function(e,t){let a=t?"?".concat(Object.entries(t).map(e=>{let[t,a]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(a)))}).join("&")):"";return r("GET","".concat(e).concat(a))},post:function(e,t){return r("POST",e,t)},put:function(e,t){return r("PUT",e,t)},remove:function(e,t){return t?r("DELETE",e,t):r("DELETE",e)}};async function r(e,t,a){let n="".concat("https://noffty.com/api/").concat(t),r={method:e,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}};"GET"!==e&&a&&(r.body=JSON.stringify(a));try{let e=await fetch(n,r),t=await e.json();if(!e.ok)throw Error(t.message||"An unknown error occurred");return t}catch(e){throw console.error("HTTP Service Error: ",e),e}}},1567:function(e,t,a){a.d(t,{t:function(){return r}});var n=a(6863);let r={getBrowserName:c,getAllowAttributes:function(){switch(c()){case"Chrome":case"Edge":return"fullscreen; midi; gyroscope; accelerometer; cross-origin-isolated;";case"Firefox":return"fullscreen; midi; accelerometer;";default:return"fullscreen; midi;"}},capitalizeString:function(e){return e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")},upperCaseString:function(e){return e.toUpperCase()},formatDate:function(e){let t=new Date(1e3*e),a=t.getDate().toString().padStart(2,"0"),n=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],r=t.getFullYear();return"".concat(a," ").concat(n," ").concat(r)},getYouTubeEmbedUrl:function(e){let t=new URLSearchParams(new URL(e).search).get("v");return"https://www.youtube.com/embed/".concat(t)},areEqual:function(e,t){let a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(let n of a)if(e[n]!==t[n])return!1;return!0},getSocialLinks:function(){return[{iconName:"discord",link:"https://discord.gg/SeNsSRt",ariaLabel:"Go to Noffty's Discord channel"},{iconName:"itch",link:"https://t1mure.itch.io/",ariaLabel:"Go to T1mure's Itch.io account"},{iconName:"googlePlay",link:"https://play.google.com/store/apps/dev?id=8915839538887603911&",ariaLabel:"Go to Noffty's Google Play account"},{iconName:"youtube",link:"https://www.youtube.com/channel/UCUCpztVlwt_pz0xDZe_ajIA",ariaLabel:"Go to Noffty's YouTube channel"}]},getAPIKeys:o};async function o(){try{return await n.O.get("auth/api-keys")}catch(e){return console.error("Failed to fetch API keys:",e),{recaptchaSiteKey:"",cloudinary:{cloudName:"",uploadPreset:""}}}}function c(){let e=navigator.userAgent.toLowerCase();switch(!0){case e.includes("chrome")&&!e.includes("edg"):return"Chrome";case e.includes("firefox"):return"Firefox";case e.includes("safari")&&!e.includes("chrome"):return"Safari";case e.includes("edg"):return"Edge";default:return"Other"}}}}]);