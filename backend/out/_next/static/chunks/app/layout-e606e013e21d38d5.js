(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2564:function(e,t,n){Promise.resolve().then(n.t.bind(n,240,23)),Promise.resolve().then(n.bind(n,5363)),Promise.resolve().then(n.bind(n,5628)),Promise.resolve().then(n.bind(n,2714)),Promise.resolve().then(n.bind(n,9121)),Promise.resolve().then(n.bind(n,4668)),Promise.resolve().then(n.bind(n,3810)),Promise.resolve().then(n.bind(n,159))},8885:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise(function(n,r){var a;function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&(a={once:!0},"function"==typeof e.on&&g(e,"error",i,a))})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=c(e))>0&&o.length>a&&!o.warned){o.warned=!0;var a,i,o,l=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=u.bind(r);return a.listener=n,r.wrapFn=a,a}function f(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):h(a,a.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function a(i){r.once&&e.removeEventListener(t,a),n(i)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,s=Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else for(var l=c.length,u=h(c,l),n=0;n<l;++n)r(u[n],this,t);return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,a,i,o;if(s(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},i.prototype.listenerCount=m,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},5363:function(e,t,n){"use strict";n.d(t,{Footer:function(){return l}});var r=n(7437),a=n(7138),i=n(6463),o=n(9714),s=n(4148);function c(e){let{iconName:t,link:n,ariaLabel:a}=e;return(0,r.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer","aria-label":a,children:[(0,r.jsx)(s.M,{iconName:"rhombus"}),(0,r.jsx)(s.M,{iconName:t})]})}function l(){let e=(0,i.usePathname)(),t=o.N.getSocialLinks();return(0,r.jsx)("footer",{className:"full",children:(0,r.jsxs)("section",{className:"footer-contents w-h-100 grid layout-row",children:[(0,r.jsxs)("div",{className:"links grid",children:[(0,r.jsx)("h2",{children:"Navigation"}),(0,r.jsx)(a.default,{href:"/games",className:"".concat("/games/"===e?"active":""," w-fit"),title:"Go to games index?","aria-label":"Navigate to games page",children:(0,r.jsx)("span",{children:"Games"})}),(0,r.jsx)(a.default,{href:"/about",className:"".concat("/about/"===e?"active":""," w-fit"),title:"Go to about page?","aria-label":"Navigate to about page",children:(0,r.jsx)("span",{children:"About"})}),(0,r.jsx)(a.default,{href:"/contact",className:"".concat("/contact/"===e?"active":""," w-fit"),title:"Go to contact page?","aria-label":"Navigate to contact page",children:(0,r.jsx)("span",{children:"Contact"})}),(0,r.jsx)(a.default,{href:"/privacy",className:"".concat("/privacy/"===e?"active":""," w-fit"),title:"Go to privacy policy page?","aria-label":"Navigate to privacy policy page",children:(0,r.jsx)("span",{children:"Privacy"})})]}),(0,r.jsxs)("div",{className:"outside-links flex column",children:[(0,r.jsx)("h2",{children:"Follow Us"}),(0,r.jsx)("div",{className:"noffty-links flex row justify-between",children:t.map(e=>(0,r.jsx)(c,{iconName:e.iconName,link:e.link,ariaLabel:e.ariaLabel},e.iconName))})]}),(0,r.jsx)("span",{className:"copyright",children:"\xa9 2024 Noffty Productions. All Rights Reserved."})]})})}},2714:function(e,t,n){"use strict";n.d(t,{Header:function(){return p}});var r=n(7437),a=n(7138),i=n(2265),o=n(6463),s=n(3671),c=n(9794),l=n(1551),u=n(6390),d=n(4148),f=n(6370),m=n(3999),h=n(4769);function g(e){let{sessionUser:t}=e,n=(0,o.useRouter)(),{activeModal:s,closeModal:c,openModal:d}=(0,l.d)(),{setSessionUser:f}=(0,u.O)(),g=(0,i.useRef)(null),p="header-dropdown"===s;function v(){c("header-dropdown")}async function x(){try{await m.W.logout(),f(null),v(),n.push("/")}catch(e){console.error("Logout failed:",e)}}return((0,h.O)(g,v),p)?(0,r.jsx)("dialog",{className:"header-dropdown",open:p,children:(0,r.jsx)("nav",{className:"flex column align-center w-100",ref:g,children:t._id?(0,r.jsxs)(r.Fragment,{children:[t.isAdmin&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.default,{href:"/admin/games",className:"flex full-center w-100",onClick:v,children:(0,r.jsx)("span",{className:"text-center",children:"Manage Games"})}),(0,r.jsx)(a.default,{href:"/admin/edit",className:"flex full-center w-100",onClick:v,children:(0,r.jsx)("span",{className:"text-center",children:"Create Game"})})]}),(0,r.jsx)("button",{className:"flex full-center w-100",onClick:x,children:(0,r.jsx)("span",{className:"text-center",children:"Logout"})})]}):(0,r.jsx)("button",{className:"flex full-center w-100",onClick:function(){v(),d("login")},children:(0,r.jsx)("span",{className:"text-center",children:"Login"})})})}):null}function p(){let e=(0,o.usePathname)(),[t,n]=(0,i.useState)(""),{updateSearchParams:m}=(0,s.H)(),h=(0,c.h)(),{openModal:p}=(0,l.d)(),{sessionUser:v}=(0,u.O)(),x="https://res.cloudinary.com/djzid7ags/image/upload/v1719919435/ydjn6p0djqwbkko4zqts.png",y=e.startsWith("/games")||e.startsWith("/admin");function j(e){n(e.target.value)}function w(e){e.preventDefault(),m({title:t},"/games"),n("")}return(0,r.jsx)("header",{className:"full",children:(0,r.jsx)("section",{className:"header-contents w-h-100 layout-row",children:"mobile"===h||"mini-tablet"===h?(0,r.jsxs)("nav",{className:"mobile-view grid align-center justify-between",children:[(0,r.jsx)("button",{onClick:()=>p("aside-menu"),"aria-label":"Open mobile navigation & user menu",children:(0,r.jsx)(d.M,{iconName:"menu"})}),(0,r.jsx)(a.default,{href:"/",className:"logo ".concat("/"===e?"active":""),title:"Go to home?","aria-label":"Navigate to home page",children:(0,r.jsx)(f.ImageContainer,{src:x,alt:"noffty logo"})}),!y&&(0,r.jsxs)("form",{onSubmit:w,className:"w-100 layout-row fast-trans",children:[(0,r.jsx)("input",{type:"text",placeholder:"Find your next game, broski...",maxLength:40,value:t,onChange:j}),(0,r.jsx)(d.M,{iconName:"search"})]}),(0,r.jsx)("div",{className:"user flex w-fit",children:(0,r.jsx)(f.ImageContainer,{src:v.imgUrls[0],alt:"".concat(v.email," avatar")})})]}):(0,r.jsxs)("nav",{className:"desktop-view flex row align-center justify-between layout-row",children:[(0,r.jsx)(a.default,{href:"/",className:"logo ".concat("/"===e?"active":""),title:"Go to home?","aria-label":"Navigate to home page",children:(0,r.jsx)(f.ImageContainer,{src:x,alt:"noffty logo"})}),(0,r.jsx)(a.default,{href:"/games",className:"".concat("/games/"===e?"active":""),title:"Go to games index?","aria-label":"Navigate to games page",children:(0,r.jsx)("span",{children:"Games"})}),(0,r.jsx)(a.default,{href:"/about",className:"".concat("/about/"===e?"active":""),title:"Go to about page?","aria-label":"Navigate to about page",children:(0,r.jsx)("span",{children:"About"})}),(0,r.jsx)(a.default,{href:"/contact",className:"".concat("/contact/"===e?"active":""),title:"Go to contact page?","aria-label":"Navigate to contact page",children:(0,r.jsx)("span",{children:"Contact"})}),(0,r.jsxs)("section",{className:"user-form-zone flex row align-center",children:[!y&&(0,r.jsxs)("form",{onSubmit:w,className:"w-100 fast-trans",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search games...",maxLength:40,value:t,onChange:j}),(0,r.jsx)(d.M,{iconName:"search"})]}),(0,r.jsx)("div",{className:"user flex w-fit",onClick:()=>p("header-dropdown"),children:(0,r.jsx)(f.ImageContainer,{src:v.imgUrls[0],alt:"".concat(v.email," avatar")})})]}),(0,r.jsx)(g,{sessionUser:v})]})})})}},1101:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=n(7437),a=n(4148);function i(e){var t;let{label:n,svg:i,type:o,name:s,value:c,onChange:l,placeholder:u,maxLength:d,error:f,onBlur:m,validationOptions:h}=e;return(0,r.jsxs)("div",{className:"input-area grid ".concat(f?"error":""," h-fit"),children:[(0,r.jsxs)("label",{className:"grid align-center",htmlFor:s,children:[(0,r.jsx)(a.M,{iconName:i}),(0,r.jsx)("span",{children:n}),f&&(0,r.jsx)("p",{className:"text-hide-overflow",title:f,children:f})]}),"textarea"===o?(0,r.jsx)("textarea",{id:s,name:s,value:c,onChange:l,onBlur:m,placeholder:u,maxLength:d,required:null==h?void 0:h.required}):(0,r.jsx)("input",{type:o,id:s,name:s,value:c,onChange:l,onBlur:m,placeholder:u,maxLength:d,required:null==h?void 0:h.required,pattern:null==h?void 0:null===(t=h.pattern)||void 0===t?void 0:t.source})]})}},5628:function(e,t,n){"use strict";n.d(t,{LoginForm:function(){return p}});var r=n(7437),a=n(1907),i=n(2265),o=n(1551),s=n(4021),c=n(6390),l=n(3999),u=n(4769),d=n(5682),f=n(5456),m=n(4148),h=n(1101),g=n(3810);function p(){let{activeModal:e,closeModal:t}=(0,o.d)(),{recaptchaSiteKey:n}=(0,s.n)(),{setSessionUser:p}=(0,c.O)(),[v,x]=(0,i.useState)(!1),y=(0,i.useRef)(null),j=(0,i.useRef)(null),{values:w,errors:b,validateField:N,handleChange:L,handleSubmit:C,resetForm:k}=(0,d.c)({loginId:"",password:""},{loginId:{required:!0,email:!0,minLength:5},password:{required:!0,minLength:6}},async e=>{try{var t;let n=await (null===(t=j.current)||void 0===t?void 0:t.executeAsync());if(!n)throw Error("reCAPTCHA verification failed");let r={loginId:e.loginId,password:e.password,recaptchaToken:n},a=await l.W.login(r);p(a),(0,g.C)("Login Successful!","Welcome home broski."),_()}catch(e){console.error("Login failed",e),(0,g.o)("Login Failed!",e.message),_()}}),S=w.loginId&&w.password,E=Object.values(b).some(e=>e);function _(){k(),t("login")}return((0,u.O)(y,_),"login"!==e)?null:(0,r.jsxs)("dialog",{className:"modal-wrapper flex align-center w-h-100",open:!0,children:[(0,r.jsx)("article",{className:"login-form flex column w-100 fast-trans",ref:y,children:(0,r.jsxs)("form",{className:"grid",onSubmit:C,children:[(0,r.jsx)(h.o,{label:"Email*",type:"email",name:"loginId",svg:"mail",maxLength:50,value:w.loginId,onChange:L,placeholder:"Your email",error:b.loginId,onBlur:()=>N("loginId",w.loginId)}),(0,r.jsxs)("div",{className:"input-area grid ".concat(b.password?"error":""," h-fit"),children:[(0,r.jsxs)("label",{className:"grid align-center",htmlFor:"password",children:[(0,r.jsx)(m.M,{iconName:"lock"}),(0,r.jsx)("span",{children:"Password*"}),b.password&&(0,r.jsx)("p",{className:"text-hide-overflow",title:b.password,children:b.password})]}),(0,r.jsx)("input",{type:v?"text":"password",id:"password",name:"password",maxLength:24,value:w.password,onChange:L,placeholder:"Your password",onBlur:()=>N("password",w.password)}),(0,r.jsx)("button",{type:"button",onClick:function(){x(!v)},children:(0,r.jsx)(m.M,{iconName:v?"eye":"noEye"})})]}),(0,r.jsxs)("section",{className:"form-actions flex row align-center justify-between",children:[(0,r.jsx)("button",{className:"flex row align-center ".concat(!S||E?"disabled":""),type:"submit",disabled:!S||E,children:(0,r.jsx)("span",{children:"Login"})}),(0,r.jsx)(f.d,{})]})]})}),n&&(0,r.jsx)(a.Z,{sitekey:n,size:"invisible",ref:j},e)]})}},5456:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(7437),a=n(6370);function i(){return(0,r.jsxs)("div",{className:"recaptcha-branding grid align-center",children:[(0,r.jsx)(a.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1718535143/hmxw916ycqxrrsgsatsu.avif",alt:"recaptcha logo"}),(0,r.jsx)("span",{children:"Protected by reCAPTCHA"}),(0,r.jsxs)("div",{className:"links flex row justify-between",children:[(0,r.jsx)("a",{href:"https://policies.google.com/privacy",children:"Privacy"}),(0,r.jsx)("a",{href:"https://policies.google.com/terms",children:"Terms"})]})]})}},6370:function(e,t,n){"use strict";n.d(t,{ImageContainer:function(){return s}});var r=n(7437),a=n(6648),i=n(2265);function o(e){let{src:t,width:n,quality:r}=e,[a,i]=t.split("/upload/");return"".concat(a,"/upload/").concat(["f_auto","c_limit","w_".concat(n),"q_".concat(r||"auto")].join(","),"/").concat(i)}function s(e){let{src:t,alt:n,style:s,className:c,width:l,height:u,onClick:d}=e,[f,m]=(0,i.useState)({width:l||100,height:u||100}),[h,g]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{if(t&&(!l||!u)){let e=new window.Image;e.onload=()=>{m({width:e.width,height:e.height})},e.src=t}},[t,l,u]),t)?(0,r.jsx)("div",{className:"image-container flex w-100 ".concat(c),style:s,onClick:d,children:(0,r.jsx)(a.default,{loader:o,src:t,alt:n,width:f.width,height:f.height,className:"w-h-100 ".concat(h?"opacity-100":"opacity-0"),onLoad:()=>g(!0),placeholder:"blur",blurDataURL:o({src:t,width:25,quality:1})})}):null}},2817:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(7437),a=n(2265),i=n(6370);function o(){let e=["Fetching data...","Almost there...","One moment...","Loading content...","Hang tight...","Standby, gamer...","Boiling the point...","Cleansing corruption...","Combining waves...","Loading^2...","Subscribe to T1mure!","T2mure is also cool...","Where is T3mure?"],[t,n]=(0,a.useState)("");return(0,a.useEffect)(()=>{n(function(){let t=Math.floor(Math.random()*e.length);return e[t]}())},[]),(0,r.jsxs)("article",{className:"loader-container flex column align-center",children:[(0,r.jsx)("span",{className:"text-center",children:t}),(0,r.jsx)(i.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1715092957/rofgvwuxaocbanu3fpzl.gif",alt:"Loading..."}),(0,r.jsx)(i.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1716704406/ogkkverm9r1wxupucbxp.avif",alt:"Loading..."})]})}},9121:function(e,t,n){"use strict";n.d(t,{AsideMenu:function(){return f}});var r=n(7437),a=n(2265),i=n(7138),o=n(6463),s=n(3999),c=n(4769),l=n(1551),u=n(6390),d=n(4148);function f(){var e;let t=(0,o.useRouter)(),n=(0,o.usePathname)(),{sessionUser:f,setSessionUser:m}=(0,u.O)(),{activeModal:h,closeModal:g,openModal:p}=(0,l.d)(),[v,x]=(0,a.useState)(!1),y=(0,a.useRef)(null),j="aside-menu"===h;function w(){x(!1),setTimeout(()=>g("aside-menu"),300)}async function b(){try{await s.W.logout(),m(null),w(),t.push("/")}catch(e){console.error("Logout failed:",e)}}return((0,a.useEffect)(()=>{j?setTimeout(()=>x(!0),50):x(!1)},[j]),(0,c.O)(y,w),j)?(0,r.jsx)("dialog",{className:"modal-wrapper w-h-100",open:j,children:(0,r.jsxs)("aside",{className:"flex column w-h-100 fast-trans ".concat(v?"show":""),ref:y,children:[(0,r.jsx)("div",{className:"menu-header flex row align-center",children:(0,r.jsx)("span",{children:f._id?"Welcome @".concat(null===(e=f.email)||void 0===e?void 0:e.split("@")[0],"!"):"Hello Guest!"})}),(0,r.jsxs)("nav",{className:"flex column",children:[(0,r.jsxs)(i.default,{href:"/",className:"flex row align-center ".concat("/"===n?"active":""),onClick:w,title:"Go to home page?","aria-label":"Navigate to home page",children:[(0,r.jsx)(d.M,{iconName:"home"}),(0,r.jsx)("span",{children:"Home"})]}),(0,r.jsxs)(i.default,{href:"/games",className:"flex row align-center ".concat("/games/"===n?"active":""),onClick:w,title:"Go to games page?","aria-label":"Navigate to games page",children:[(0,r.jsx)(d.M,{iconName:"controller"}),(0,r.jsx)("span",{children:"Games"})]}),(0,r.jsxs)(i.default,{href:"/about",className:"flex row align-center ".concat("/about/"===n?"active":""),onClick:w,title:"Go to about page?","aria-label":"Navigate to about page",children:[(0,r.jsx)(d.M,{iconName:"info"}),(0,r.jsx)("span",{children:"About"})]}),(0,r.jsxs)(i.default,{href:"/contact",className:"flex row align-center ".concat("/contact/"===n?"active":""),onClick:w,title:"Go to contact page?","aria-label":"Navigate to contact page",children:[(0,r.jsx)(d.M,{iconName:"mail"}),(0,r.jsx)("span",{children:"Contact"})]}),f._id?(0,r.jsxs)(r.Fragment,{children:[f.isAdmin&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{href:"/admin/games",className:"flex row align-center ".concat("/admin/games/"===n?"active":""),onClick:w,title:"Go to games admin page?","aria-label":"Navigate to games management",children:[(0,r.jsx)(d.M,{iconName:"edit"}),(0,r.jsx)("span",{children:"Manage Games"})]}),(0,r.jsxs)(i.default,{href:"/admin/edit",className:"flex row align-center ".concat("/admin/edit/"===n?"active":""),onClick:w,title:"Create new game?","aria-label":"Navigate to game creation page",children:[(0,r.jsx)(d.M,{iconName:"plus"}),(0,r.jsx)("span",{children:"Create Game"})]})]}),(0,r.jsxs)("button",{className:"flex row align-center",onClick:b,children:[(0,r.jsx)(d.M,{iconName:"person"}),(0,r.jsx)("span",{children:"Logout"})]})]}):(0,r.jsxs)("button",{className:"flex row align-center",onClick:function(){p("login")},children:[(0,r.jsx)(d.M,{iconName:"person"}),(0,r.jsx)("span",{children:"Login"})]})]})]})}):null}},4668:function(e,t,n){"use strict";n.d(t,{ImageModal:function(){return l}});var r=n(7437),a=n(2265),i=n(4769),o=n(1551),s=n(6370),c=n(4148);function l(){let{activeModal:e,closeModal:t,modalValue:n}=(0,o.d)(),l=(0,a.useRef)(null);function u(){t("image-modal")}return(0,i.O)(l,u),(0,r.jsx)("dialog",{className:"modal-wrapper w-h-100",open:"image-modal"===e,children:(0,r.jsxs)("div",{className:"image-modal flex column w-h-fit",ref:l,children:[n&&(0,r.jsx)(s.ImageContainer,{src:n,alt:"Modal Image"}),(0,r.jsx)("button",{className:"flex",onClick:()=>u(),children:(0,r.jsx)(c.M,{iconName:"return"})})]})})}},3810:function(e,t,n){"use strict";n.d(t,{C:function(){return l},SystemMsg:function(){return d},o:function(){return u}});var r=n(7437),a=n(8885),i=n.n(a),o=n(2265),s=n(4148);let c=new(i());function l(e,t){c.emit("flash",{title:e,msg:t,type:"success"})}function u(e,t){c.emit("flash",{title:e,msg:t,type:"error"})}function d(){let[e,t]=(0,o.useState)(null),[n,a]=(0,o.useState)(!1),[i,l]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{function e(e){let{title:n,msg:r,type:i}=e;t({title:n,msg:r,type:i}),a(!0),setTimeout(()=>l(!0),500),setTimeout(()=>{l(!1),setTimeout(()=>a(!1),500)},6e3)}return c.on("flash",e),()=>{c.off("flash",e)}},[]),n)?(0,r.jsxs)("div",{className:"system-message flex column full-center w-fit ".concat(i?"show":""," normal-trans"),children:[(0,r.jsx)("div",{className:"message-title ".concat(null==e?void 0:e.type," w-fit"),children:(0,r.jsx)("h3",{className:"family-bold",children:null==e?void 0:e.title})}),(0,r.jsxs)("div",{className:"message-contents ".concat(null==e?void 0:e.type," flex row full-center w-fit"),children:[(0,r.jsx)(s.M,{iconName:"info"}),(0,r.jsx)("span",{children:null==e?void 0:e.msg}),(0,r.jsx)(s.M,{iconName:"info"})]})]}):null}},4021:function(e,t,n){"use strict";n.d(t,{g:function(){return s},n:function(){return o}});var r=n(7437),a=n(2265);let i=(0,a.createContext)(null);function o(){let e=(0,a.useContext)(i);if(!e)throw Error("useApiKeys must be used within an ApiProvider");return e}function s(e){let{children:t,apiKeys:n}=e;return(0,r.jsx)(i.Provider,{value:n,children:t})}},9794:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},h:function(){return s}});var r=n(7437),a=n(2265);let i=(0,a.createContext)("desktop");function o(e){let{children:t}=e,n=(0,a.useCallback)(()=>{let e=window.innerWidth;return e<=480?"mobile":e<=600?"mini-tablet":e<=900?"tablet":"desktop"},[]),[o,s]=(0,a.useState)(n);return(0,a.useEffect)(()=>{let e=()=>s(n());return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n]),(0,r.jsx)(i.Provider,{value:o,children:t})}function s(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useDeviceType must be used within a DeviceTypeProvider");return e}},1551:function(e,t,n){"use strict";n.d(t,{D:function(){return o},d:function(){return s}});var r=n(7437),a=n(2265);let i=(0,a.createContext)({openModal:()=>{},closeModal:()=>{},activeModal:null,modalValue:null});function o(e){let{children:t}=e,[n,o]=(0,a.useState)(null),[s,c]=(0,a.useState)(null);return(0,r.jsx)(i.Provider,{value:{openModal:function(e,t){o(e),c(t||null)},closeModal:function(e){n===e&&(o(null),c(null))},activeModal:n,modalValue:s},children:t})}function s(){return(0,a.useContext)(i)}},159:function(e,t,n){"use strict";n.d(t,{Providers:function(){return d}});var r=n(7437),a=n(2265),i=n(1635),o=n(4021),s=n(9794),c=n(1551),l=n(6390),u=n(2817);function d(e){let{children:t}=e,[n,d]=(0,a.useState)(null);async function f(){try{return await i.R.get("auth/api-keys")}catch(e){return console.error("Failed to fetch API keys:",e),{recaptchaSiteKey:"",cloudinary:{cloudName:"",uploadPreset:""}}}}return((0,a.useEffect)(()=>{async function e(){let e=await f();d(e),sessionStorage.setItem("apiKeys",JSON.stringify(e))}let t=sessionStorage.getItem("apiKeys");t?d(JSON.parse(t)):e()},[]),n)?(0,r.jsx)(o.g,{apiKeys:n,children:(0,r.jsx)(s.Q,{children:(0,r.jsx)(c.D,{children:(0,r.jsx)(l.e,{children:t})})})}):(0,r.jsx)(u.a,{})}},6390:function(e,t,n){"use strict";n.d(t,{O:function(){return u},e:function(){return l}});var r=n(7437),a=n(2265),i=n(6463),o=n(3999);let s={_id:"",email:"",password:"",imgUrls:["https://res.cloudinary.com/djzid7ags/image/upload/v1719433639/vonsaimuwr4b3wrt7keh.avif"],isAdmin:!1},c=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[n,l]=(0,a.useState)(s),[u,d]=(0,a.useState)(!0),f=(0,i.useRouter)(),m=(0,i.usePathname)();return(0,a.useEffect)(()=>{(async function(){d(!0);let e=o.W.getLoggedinUser();if(e&&e._id)try{let t=await o.W.getById(e._id);l(t)}catch(e){console.error("Failed to fetch user details:",e),l(s)}d(!1)})()},[]),(0,a.useEffect)(()=>{!u&&m.startsWith("/admin")&&!n.isAdmin&&f.push("/")},[m,n.isAdmin,f,u]),(0,r.jsx)(c.Provider,{value:{sessionUser:n,isLoading:u,setSessionUser:function(e){e?(l(e),o.W.setLoggedinUser(e)):l(s)},getSessionUser:function(){return n}},children:t})}function u(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useSession must be used within a SessionProvider");return e}},4769:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(2265);function a(e,t){(0,r.useEffect)(()=>{function n(n){e.current&&!e.current.contains(n.target)&&t()}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[e,t])}},5682:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(2265);function a(e,t,n){let[a,i]=(0,r.useState)(e),[o,s]=(0,r.useState)({});function c(e,n){let r=t[e];if(!r)return;let a=null;if(!r.required&&""===n.trim()){s(t=>({...t,[e]:null}));return}for(let e of[{check:r.required,func:()=>""===n.trim()?"Cannot be left empty":null},{check:r.minLength,func:()=>{var e;return e=r.minLength,n.length<e?"Needs ".concat(e," characters at least"):null}},{check:r.noLetters,func:()=>/[a-zA-Z]/.test(n)?"Cannot insert letters":null},{check:r.noDigits,func:()=>/\d/.test(n)?"Cannot insert digits":null},{check:r.email,func:()=>/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(n)?null:"Invalid email format"},{check:r.link,func:()=>/^(https?:\/\/)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(:[0-9]{1,5})?(\/[^\s]*)?$/.test(n)?null:"Invalid URL format"},{check:r.pattern,func:()=>RegExp("^[a-zA-Z0-9"+r.pattern.source+"]*$").test(n)?null:"Invalid characters used"}])if(!a&&e.check&&(a=e.func()))break;s(t=>({...t,[e]:a}))}async function l(e){e.preventDefault(),n(a)}return{values:a,errors:o,setErrors:s,validateField:c,handleChange:function(e){var n;let{name:r,value:a}=e.target;i(e=>({...e,[r]:a})),"select"!==e.target.tagName.toLowerCase()&&(null===(n=t[r])||void 0===n?void 0:n.required)&&c(r,a)},setFieldValue:function(e,n){var r;i(t=>({...t,[e]:n})),(null===(r=t[e])||void 0===r?void 0:r.required)&&c(e,n.toString())},handleSubmit:l,resetForm:function(){i(e),s({})}}}},3671:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(2265),a=n(6463);function i(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),n=(0,r.useMemo)(()=>new URLSearchParams(t.toString()),[t]);return{getDefaultFilterValues:(0,r.useCallback)(function(){return{title:n.get("title")||"",platform:n.get("platform")||"",genre:n.get("genre")||"",isGameJam:n.get("isGameJam")||""}},[n]),updateSearchParams:(0,r.useCallback)(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,n]=e;n?r.set(t,n):r.delete(t)});let a=n?"".concat(n,"?").concat(r.toString()):"?".concat(r.toString());e.push(a)},[e]),searchParams:n}}},3999:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(1635);let a="loggedinUser",i="user/",o={query:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return console.log("Expected request to backend: ".concat(i,"?").concat(t)),r.R.get("".concat(i,"?").concat(t))},getById:async e=>r.R.get("".concat(i,"by-id/").concat(e)),getByEmail:async e=>r.R.get("".concat(i,"by-email/").concat(e)),remove:async e=>r.R.remove("".concat(i,"delete/").concat(e)),save:async e=>e._id?r.R.put("".concat(i,"update/").concat(e._id),e):r.R.post(i+"add/",e),login:async e=>{try{let t=await r.R.post("auth/login",e);return o.setLoggedinUser(t),t}catch(e){throw Error(e.message)}},signup:async e=>{try{let t=await r.R.post("auth/signup",e);return o.setLoggedinUser(t),t}catch(e){throw Error(e.message)}},logout:async()=>{try{await r.R.post("auth/logout",null),sessionStorage.removeItem(a)}catch(e){throw Error(e.message)}},getLoggedinUser:()=>{let e=sessionStorage.getItem(a);return e?JSON.parse(e):null},setLoggedinUser:e=>{let t={_id:e._id};sessionStorage.setItem(a,JSON.stringify(t))}}},1635:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});let r={get(e,t){let n=t?"?".concat(Object.entries(t).map(e=>{let[t,n]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(n)))}).join("&")):"";return a("GET","".concat(e).concat(n))},post:(e,t)=>a("POST",e,t),put:(e,t)=>a("PUT",e,t),remove:(e,t)=>t?a("DELETE",e,t):a("DELETE",e)};async function a(e,t,n){let r="".concat("https://noffty.com/api/").concat(t),a={method:e,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}};"GET"!==e&&n&&(a.body=JSON.stringify(n));try{let e=await fetch(r,a),t=await e.json();if(!e.ok)throw Error(t.errorMessage||"An unknown error occurred");return t}catch(e){throw console.error("HTTP Service Error: ",e),e}}},9714:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});let r={getBrowserName:()=>{let e=navigator.userAgent.toLowerCase();switch(!0){case e.includes("chrome")&&!e.includes("edg"):return"Chrome";case e.includes("firefox"):return"Firefox";case e.includes("safari")&&!e.includes("chrome"):return"Safari";case e.includes("edg"):return"Edge";default:return"Other"}},getAllowAttributes:()=>{switch(r.getBrowserName()){case"Chrome":case"Edge":return"fullscreen; midi; gyroscope; accelerometer; cross-origin-isolated;";case"Firefox":return"fullscreen; midi; accelerometer;";default:return"fullscreen; midi;"}},capitalizeString:e=>e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),upperCaseString:e=>e.toUpperCase(),formatDate:e=>{let t=new Date(1e3*e),n=t.getDate().toString().padStart(2,"0"),r=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],a=t.getFullYear();return"".concat(n," ").concat(r," ").concat(a)},getYouTubeEmbedUrl:e=>{let t=new URLSearchParams(new URL(e).search).get("v");return"https://www.youtube.com/embed/".concat(t)},formatText:e=>e.replace(/\n/g,"<br>"),areEqual:(e,t)=>{let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r of n)if(e[r]!==t[r])return!1;return!0},getSocialLinks:()=>[{iconName:"discord",link:"https://discord.gg/SeNsSRt",ariaLabel:"Go to Noffty's Discord channel"},{iconName:"itch",link:"https://t1mure.itch.io/",ariaLabel:"Go to T1mure's Itch.io account"},{iconName:"googlePlay",link:"https://play.google.com/store/apps/dev?id=8915839538887603911&",ariaLabel:"Go to Noffty's Google Play account"},{iconName:"youtube",link:"https://www.youtube.com/channel/UCUCpztVlwt_pz0xDZe_ajIA",ariaLabel:"Go to Noffty's YouTube channel"}]}},240:function(){}},function(e){e.O(0,[634,648,291,907,148,971,23,744],function(){return e(e.s=2564)}),_N_E=e.O()}]);