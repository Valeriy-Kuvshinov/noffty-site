(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{8849:function(e,t,a){Promise.resolve().then(a.bind(a,4592))},6463:function(e,t,a){"use strict";var n=a(1169);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},4592:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(7437),r=a(2265),l=a(6463),i=a(1641),s=a(5682),o=a(8804),c=a(4021),u=a(6370);function d(e){let{index:t,defaultImgUrl:a,folderName:l,onUploaded:i}=e,[s,o]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),{cloudinary:h}=(0,c.n)(),{cloudName:g,uploadPreset:p}=h,f="imgUpload-".concat(t);async function x(e){let a=e.size/1024/1024>2?{isValid:!1,errorHeader:"Too Big!",errorMessage:"File size exceeds 2 MB!"}:["image/avif"].includes(e.type)?(console.log("File validation passed"),{isValid:!0}):{isValid:!1,errorHeader:"Invalid format!",errorMessage:"Only AVIF is allowed!"};if(!a.isValid){console.log("Validation failed: ".concat(a.errorHeader)),console.log("Error details: ".concat(a.errorMessage));return}m(!0);try{let a=await v(e,l,g,p);o(a.secure_url),i({url:a.secure_url,index:t})}catch(e){console.error("Upload failed",e)}finally{m(!1)}}async function v(e,t,a,n){try{let r=new FormData;r.append("upload_preset",n),r.append("file",e),r.append("folder",t);let l=await fetch("https://api.cloudinary.com/v1_1/".concat(a,"/image/upload"),{method:"POST",body:r});return await l.json()}catch(e){throw console.error("Failed to upload",e),e}}return(0,r.useEffect)(()=>{a!==s&&o(a)},[a]),(0,n.jsx)("article",{className:"upload-preview",role:"region","aria-labelledby":"upload-label","aria-describedby":"upload-description",onDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.add("drag-over")},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over")},onDrop:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over");let t=e.dataTransfer.files;t&&t.length>0&&x(t[0])},children:(0,n.jsxs)("div",{className:"file-upload-container flex column",children:[(0,n.jsxs)("label",{htmlFor:f,className:"flex column fast-trans",id:"upload-label",children:[(0,n.jsx)("span",{id:"upload-description",className:"family-bold text-center fast-trans",children:s?"Replace Image?":d?"Uploading....":"Upload Image"}),s&&(0,n.jsx)(u.ImageContainer,{src:s,alt:"preview image"})]}),(0,n.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&x(e.target.files[0])},accept:"image/*",id:f,style:{display:"none"},"aria-labelledby":"upload-label","aria-describedby":"upload-description"})]})})}var m=a(4148),h=a(1101),g=a(9714),p=a(6168);function f(e){var t,a;let{game:r}=e,l="repeat(".concat(r.screenshots.length-1,", 1fr)"),i="Stoic^2"===r.title||"Absurd^2"===r.title,s=g.N.formatText(r.description||""),o=g.N.formatText(r.controls||""),c=g.N.formatText(r.credits||""),d=g.N.formatText(r.specialNote||"");return(0,n.jsxs)("article",{className:"edit-preview",children:[(0,n.jsxs)("h2",{className:"text-center",children:["Preview: ",r.title]}),(0,n.jsxs)("div",{className:"game-frame flex column w-100 text-center",children:[(0,n.jsxs)("h3",{children:["You Are Now Playing ",r.title]}),"html5"===r.platform?r.gameLink?(0,n.jsx)("div",{className:"iframe-placeholder flex full-center",children:(0,n.jsx)("p",{children:"Gameplay would be shown here"})}):(0,n.jsx)("p",{children:"Game not published or inaccessible"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["Whoa, looks like the game is not intended for the browser, but for",(0,n.jsxs)("span",{className:"text-capitalize",children:[" ",r.platform]})," instead."]}),(0,n.jsxs)("a",{href:r.outsideLink,className:"flex row",target:"_blank",rel:"noopener noreferrer","aria-label":"Navigate to game's actual platform?",children:[(0,n.jsx)(m.M,{iconName:r.platform}),(0,n.jsx)("span",{children:"Take Me to The Game!"}),(0,n.jsx)(m.M,{iconName:r.platform})]})]})]}),(0,n.jsxs)("div",{className:"game-body flex column w-100 layout-row",children:[(0,n.jsx)("h3",{className:"text-center",children:r.subtitle}),(0,n.jsx)("div",{className:"preview-screenshots grid ".concat("android"!==r.platform?"w-100":""),style:{gridTemplateColumns:l},children:r.screenshots.slice(1).map((e,t)=>(0,n.jsx)(u.ImageContainer,{src:e,alt:"".concat(r.title," screenshot number ").concat(t+1),className:"preview-screenshot ".concat("android"!==r.platform?"w-100":""),style:{maxHeight:r.screenshots.length<5?"215px":"auto",aspectRatio:"android"!==r.platform?"16 / 9":"9 / 16"}},t))}),(0,n.jsx)(p.p,{string:s}),(0,n.jsx)(p.p,{string:"Controls: ".concat(o)}),(0,n.jsx)(p.p,{string:c}),r.specialNote&&(i?(0,n.jsx)(p.p,{string:d,custom:"special"}):(0,n.jsx)(p.p,{string:d})),(0,n.jsxs)("div",{className:"video-wrapper grid w-100",children:[r.walkthrough&&(0,n.jsxs)("div",{className:"video flex column w-100",children:[(0,n.jsx)("p",{children:"If you're stuck, we've got you covered:"}),(0,n.jsx)("div",{className:"iframe flex column full-center",children:(0,n.jsx)("p",{children:"Walkthrough video will be shown here..."})})]}),r.devlog&&(0,n.jsxs)("div",{className:"video flex column w-100",children:[(0,n.jsx)("p",{children:"Be sure to check out the developer's log:"}),(0,n.jsx)("div",{className:"iframe flex column full-center",children:(0,n.jsx)("p",{children:"Devlog video will be shown here..."})})]})]}),(0,n.jsxs)("div",{className:"game-info flex column w-100",children:[(0,n.jsxs)("p",{className:"flex",children:[(0,n.jsx)("span",{className:"text-right",children:"Published"}),g.N.formatDate(r.createdAt)," GMT / UTC"]}),(0,n.jsxs)("p",{className:"flex",children:[(0,n.jsx)("span",{className:"text-right",children:"Platform"}),r.platform.includes("html5")?g.N.upperCaseString(r.platform):g.N.capitalizeString(r.platform)]}),(0,n.jsxs)("p",{className:"flex",children:[(0,n.jsx)("span",{className:"text-right",children:"Genre"}),null===(t=r.genre)||void 0===t?void 0:t.map(e=>g.N.capitalizeString(e)).join(", ")]}),(null===(a=r.outsideLink)||void 0===a?void 0:a.includes("itch.io"))&&(0,n.jsxs)("a",{href:r.outsideLink,target:"_blank","aria-label":"navigation to itch.io",title:"Go to itch.io?",rel:"noopener noreferrer",className:"flex row align-center w-fit",children:[(0,n.jsx)(m.M,{iconName:"itch"}),(0,n.jsx)("span",{children:"Available on Itch.io as well!"}),(0,n.jsx)(m.M,{iconName:"itch"})]})]})]})]})}function x(e){let{game:t}=e,a=(0,l.useRouter)(),{values:c,errors:u,setErrors:g,validateField:p,handleChange:x,handleSubmit:v,resetForm:j,setFieldValue:b}=(0,s.c)(t,{title:{required:!0,minLength:3,pattern:/[\s.\-!^&?']+/},subtitle:{required:!0,minLength:3,pattern:/[\s.\-!?']+/},outsideLink:{required:!0,minLength:3,link:!0},gameLink:{minLength:3,link:!0},devlog:{minLength:3,link:!0},walkthrough:{minLength:3,link:!0},description:{required:!0,minLength:15,pattern:/[\s.\-!?@#$',^*_;():]+/},credits:{required:!0,minLength:3,pattern:/[\s.\-!?@#$',^*_;:]+/},controls:{required:!0,minLength:3,pattern:/[\s.\-!?@#$',^/*;:]+/},specialNote:{minLength:9,pattern:/[\s.\-!?@#$"',^*_;():]+/}},async e=>{try{await i.R.save(e),console.log("Game saved successfully"),j(),a.push("/admin/games")}catch(e){console.error("Failed to save game",e)}}),N=(0,o.N)(c.title,500);function y(e){let t=[...c.screenshots];t[e.index]=e.url,b("screenshots",t)}async function w(){if(t._id)try{await i.R.remove(t._id.toString()),console.log("Game deleted successfully"),a.push("/admin/games")}catch(e){console.error("Failed to delete game",e)}}async function k(e){try{if(e===t.title){g(e=>({...e,name:null}));return}let{isAvailable:a}=await i.R.checkNameAvailable(e);g(e=>({...e,name:a?e.name:"Name is taken"}))}catch(e){console.error("Failed to check name availability",e)}}(0,r.useEffect)(()=>{N&&k(N)},[N]);let L=c.title&&c.subtitle&&c.outsideLink&&c.description&&c.credits&&c.controls,C=Object.values(u).some(e=>e);return(0,n.jsxs)("form",{className:"grid layout-row w-100",onSubmit:v,children:[(0,n.jsxs)("article",{className:"form-inputs grid w-100",children:[(0,n.jsxs)("section",{className:"special-layout grid align-center w-100 h-fit",children:[(0,n.jsx)(h.o,{label:"Game Title*",svg:"title",type:"text",name:"title",maxLength:30,value:c.title,onChange:x,error:u.title,onBlur:()=>p("title",c.title)}),(0,n.jsx)(h.o,{label:"Game Subtitle*",svg:"info",type:"text",name:"subtitle",maxLength:40,value:c.subtitle,onChange:x,error:u.subtitle,onBlur:()=>p("subtitle",c.subtitle)}),(0,n.jsx)(h.o,{label:"Outside Link*",svg:"link",type:"text",name:"outsideLink",maxLength:120,value:c.outsideLink||"",onChange:x,error:u.outsideLink,onBlur:()=>p("outsideLink",c.outsideLink)}),(0,n.jsx)(h.o,{label:"Files Link",svg:"folder",type:"text",name:"gameLink",maxLength:120,value:c.gameLink||"",onChange:x,error:u.gameLink,onBlur:()=>p("gameLink",c.gameLink||"")}),(0,n.jsx)(h.o,{label:"Devlog Link",svg:"link",type:"text",name:"devlog",maxLength:120,value:c.devlog||"",onChange:x,error:u.devlog,onBlur:()=>p("devlog",c.devlog||"")}),(0,n.jsx)(h.o,{label:"Walkthrough Link",svg:"link",type:"text",name:"walkthrough",maxLength:120,value:c.walkthrough||"",onChange:x,error:u.walkthrough,onBlur:()=>p("walkthrough",c.walkthrough||"")}),(0,n.jsx)(h.o,{label:"Description*",svg:"description",type:"textarea",name:"description",maxLength:900,value:c.description||"",onChange:x,error:u.description,onBlur:()=>p("description",c.description)})]}),(0,n.jsx)(h.o,{label:"Credits*",svg:"agreement",type:"textarea",name:"credits",maxLength:120,value:c.credits||"",onChange:x,error:u.credits,onBlur:()=>p("credits",c.credits)}),(0,n.jsx)(h.o,{label:"Controls*",svg:"keyboard",type:"textarea",name:"controls",maxLength:120,value:c.controls||"",onChange:x,error:u.controls,onBlur:()=>p("controls",c.controls)}),(0,n.jsx)(h.o,{label:"Note",svg:"info",type:"textarea",name:"specialNote",maxLength:600,value:c.specialNote||"",onChange:x,error:u.specialNote,onBlur:()=>p("specialNote",c.specialNote)}),(0,n.jsxs)("section",{className:"special-layout grid align-center w-100 h-fit",children:[(0,n.jsxs)("div",{className:"input-area grid",children:[(0,n.jsxs)("label",{className:"grid align-center",htmlFor:"genre",children:[(0,n.jsx)(m.M,{iconName:"action"}),(0,n.jsx)("span",{children:"Genre:"})]}),(0,n.jsxs)("select",{id:"genre",name:"genre",multiple:!0,value:c.genre,onChange:function(e){b("genre",Array.from(e.target.selectedOptions,e=>e.value))},children:[(0,n.jsx)("option",{value:"action",children:"Action"}),(0,n.jsx)("option",{value:"adventure",children:"Adventure"}),(0,n.jsx)("option",{value:"other",children:"Other"}),(0,n.jsx)("option",{value:"platformer",children:"Platformer"}),(0,n.jsx)("option",{value:"puzzle",children:"Puzzle"}),(0,n.jsx)("option",{value:"roguelike",children:"Roguelike"})]})]}),(0,n.jsxs)("div",{className:"input-area grid",children:[(0,n.jsxs)("label",{className:"grid align-center",htmlFor:"platform",children:[(0,n.jsx)(m.M,{iconName:"monitor"}),(0,n.jsx)("span",{children:"Platform:"})]}),(0,n.jsxs)("select",{id:"platform",name:"platform",value:c.platform,onChange:x,required:!0,children:[(0,n.jsx)("option",{value:"android",children:"Android"}),(0,n.jsx)("option",{value:"html5",children:"HTML5"}),(0,n.jsx)("option",{value:"steam",children:"Steam"})]})]}),(0,n.jsxs)("div",{className:"input-area grid",children:[(0,n.jsxs)("label",{className:"grid align-center",htmlFor:"isGameJam",children:[(0,n.jsx)(m.M,{iconName:"itch"}),(0,n.jsx)("span",{children:"Is Game Jam:"})]}),(0,n.jsxs)("select",{id:"isGameJam",name:"isGameJam",value:c.isGameJam,onChange:x,required:!0,children:[(0,n.jsx)("option",{value:"yes",children:"Yes"}),(0,n.jsx)("option",{value:"no",children:"No"})]})]})]}),(0,n.jsxs)("div",{className:"input-area grid",children:[(0,n.jsxs)("label",{className:"grid align-center",htmlFor:"icon",children:[(0,n.jsx)(m.M,{iconName:"images"}),(0,n.jsx)("span",{children:"Icon:"})]}),(0,n.jsx)("div",{className:"upload-area grid",children:(0,n.jsx)(d,{index:-1,defaultImgUrl:t.icon||"https://res.cloudinary.com/djzid7ags/image/upload/v1719002261/vohr6yravygkly4duxhv.avif",folderName:"/games/icons",onUploaded:function(e){b("icon",e.url)}})})]}),(0,n.jsxs)("div",{className:"input-area grid",children:[(0,n.jsxs)("label",{className:"grid align-center",htmlFor:"screenshots",children:[(0,n.jsx)(m.M,{iconName:"images"}),(0,n.jsx)("span",{children:"Screenshots:"})]}),(0,n.jsxs)("div",{className:"upload-area grid",children:[c.screenshots.map((e,t)=>(0,n.jsx)("div",{children:(0,n.jsx)(d,{index:t,defaultImgUrl:e||"https://res.cloudinary.com/djzid7ags/image/upload/v1719002299/zmbzvexomb5jmawvpqzd.avif",folderName:"/games/screenshots",onUploaded:y})},t)),(0,n.jsxs)("div",{className:"amount-management grid",children:[(0,n.jsxs)("button",{type:"button",onClick:()=>(function(e){if(c.screenshots.length>1){let t=[...c.screenshots];t.splice(e,1),b("screenshots",t)}})(c.screenshots.length-1),disabled:1===c.screenshots.length,className:"flex column full-center ".concat(1===c.screenshots.length?"disabled":""),children:[(0,n.jsx)(m.M,{iconName:"minus"}),(0,n.jsx)("span",{children:"Remove"})]}),(0,n.jsxs)("button",{type:"button",onClick:function(){c.screenshots.length<5&&b("screenshots",[...c.screenshots,""])},disabled:c.screenshots.length>=5,className:"flex column full-center ".concat(c.screenshots.length>=5?"disabled":""),children:[(0,n.jsx)(m.M,{iconName:"plus"}),(0,n.jsx)("span",{children:"Add"})]})]})]})]}),(0,n.jsxs)("section",{className:"form-actions flex row align-center justify-between",children:[(0,n.jsx)("button",{className:"flex row align-center ".concat(!L||C?"disabled":""),type:"submit",disabled:!L||C,children:(0,n.jsx)("span",{children:"Send"})}),t._id&&(0,n.jsx)("button",{className:"flex row align-center",type:"button",onClick:w,children:(0,n.jsx)("span",{children:"Delete"})})]})]}),(0,n.jsx)(f,{game:c})]})}var v=a(1811),j=a(2817);function b(){let e=(0,l.useSearchParams)(),[t,a]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),g={title:"New Game",subtitle:"To Be Continued",icon:"https://res.cloudinary.com/djzid7ags/image/upload/v1719002261/vohr6yravygkly4duxhv.avif",screenshots:["https://res.cloudinary.com/djzid7ags/image/upload/v1719002299/zmbzvexomb5jmawvpqzd.avif"],platform:"html5",outsideLink:"https://t1mure.itch.io/absurd2",gameLink:"https://html-classic.itch.zone/html/9577176/index.html",description:"Game info for the user",credits:"Game stuff by T1mure",controls:"WASD / Space keys to move",specialNote:"Disclaimer or gmtk thing",genre:["action"],devlog:"",walkthrough:"",isGameJam:"no",createdAt:Date.now()};return(0,r.useEffect)(()=>{(async function(){let t=e.get("name");if(!t){h(!0),a(g),o(!1);return}try{let e=await i.R.getByName(t);if(e){var n,r,l,s;a({...e,description:null===(n=e.description)||void 0===n?void 0:n.replace(/<br>/g,"\n"),controls:null===(r=e.controls)||void 0===r?void 0:r.replace(/<br>/g,"\n"),credits:null===(l=e.credits)||void 0===l?void 0:l.replace(/<br>/g,"\n"),specialNote:null===(s=e.specialNote)||void 0===s?void 0:s.replace(/<br>/g,"\n")}),h(!1)}else u("Sorry, no game found matching ".concat(t,"."))}catch(e){console.error("Failed to fetch game",e),u("An error occurred while fetching the game.")}finally{o(!1)}})()},[e]),(0,n.jsx)("main",{className:"edit-page full w-h-100",children:(0,n.jsxs)("section",{className:"page-contents flex column align-center w-h-100 layout-row",children:[(0,n.jsx)("a",{href:"/admin/games",title:"Return to game list?","aria-label":"Return to game list?",children:(0,n.jsx)(m.M,{iconName:"return"})}),s?(0,n.jsx)(j.a,{}):c?(0,n.jsx)(v.m,{message:c}):d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"You are now adding a new game"}),(0,n.jsx)(x,{game:g})]}):t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h2",{children:["You are now editing ",t.title]}),(0,n.jsx)(x,{game:t}),(0,n.jsx)("p",{children:"*First image in screenshots array is to be used for thumbnail, IT WILL NOT be shown in the details page of the game*"})]}):null]})})}},1101:function(e,t,a){"use strict";a.d(t,{o:function(){return l}});var n=a(7437),r=a(4148);function l(e){var t;let{label:a,svg:l,type:i,name:s,value:o,onChange:c,placeholder:u,maxLength:d,error:m,onBlur:h,validationOptions:g}=e;return(0,n.jsxs)("div",{className:"input-area grid ".concat(m?"error":""),children:[(0,n.jsxs)("label",{className:"grid align-center",htmlFor:s,children:[(0,n.jsx)(r.M,{iconName:l}),(0,n.jsx)("span",{children:a}),m&&(0,n.jsx)("p",{title:m,children:m})]}),"textarea"===i?(0,n.jsx)("textarea",{id:s,name:s,value:o,onChange:c,onBlur:h,placeholder:u,maxLength:d,required:null==g?void 0:g.required}):(0,n.jsx)("input",{type:i,id:s,name:s,value:o,onChange:c,onBlur:h,placeholder:u,maxLength:d,required:null==g?void 0:g.required,pattern:null==g?void 0:null===(t=g.pattern)||void 0===t?void 0:t.source})]})}},1811:function(e,t,a){"use strict";a.d(t,{m:function(){return l}});var n=a(7437),r=a(6370);function l(e){let{message:t}=e;return(0,n.jsxs)("article",{className:"error-container flex column",children:[(0,n.jsxs)("div",{className:"error-area flex row align-center",children:[(0,n.jsx)(r.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1716704407/hgqpxtysqdjvav72w8dl.avif",alt:"Error.."}),(0,n.jsx)("span",{children:t})]}),(0,n.jsx)("a",{href:"/","aria-label":"Go to home page",title:"Return to home page?",children:"Return to home?"})]})}},6370:function(e,t,a){"use strict";a.d(t,{ImageContainer:function(){return s}});var n=a(7437),r=a(6648),l=a(2262),i=a(2265);function s(e){let{src:t,alt:a,style:s,className:o,width:c,height:u}=e,[d,m]=(0,i.useState)({width:c||100,height:u||100}),[h,g]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{if(t&&(!c||!u)){let e=new window.Image;e.onload=()=>{m({width:e.width,height:e.height})},e.src=t}},[t,c,u]),t)?(0,n.jsx)("div",{className:"image-container w-100 ".concat(o),style:s,children:(0,n.jsx)(r.default,{loader:l.default,src:t,alt:a,width:d.width,height:d.height,className:"w-h-100 ".concat(h?"opacity-100":"opacity-0"),onLoad:()=>g(!0),placeholder:"blur",blurDataURL:(0,l.default)({src:t,width:25,quality:1})})}):null}},2817:function(e,t,a){"use strict";a.d(t,{a:function(){return i}});var n=a(7437),r=a(2265),l=a(6370);function i(){let e=["Fetching data...","Almost there...","One moment...","Loading content...","Hang tight...","Standby, gamer...","Boiling the point...","Cleansing corruption...","Combining waves...","Loading^2...","Subscribe to T1mure!","T2mure is also cool...","Where is T3mure?"],[t,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{a(function(){let t=Math.floor(Math.random()*e.length);return e[t]}())},[]),(0,n.jsxs)("article",{className:"loader-container flex column align-center",children:[(0,n.jsx)("span",{className:"text-center",children:t}),(0,n.jsx)(l.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1715092957/rofgvwuxaocbanu3fpzl.gif",alt:"Loading..."}),(0,n.jsx)(l.ImageContainer,{src:"https://res.cloudinary.com/djzid7ags/image/upload/v1716704406/ogkkverm9r1wxupucbxp.avif",alt:"Loading..."})]})}},6168:function(e,t,a){"use strict";a.d(t,{p:function(){return l}});var n=a(7437),r=a(2265);function l(e){let{string:t,custom:a}=e;return(0,n.jsx)("p",{className:a,children:t.split("<br>").map((e,t,a)=>(0,n.jsxs)(r.Fragment,{children:[e,t<a.length-1&&(0,n.jsx)("br",{})]},t))})}},4021:function(e,t,a){"use strict";a.d(t,{g:function(){return s},n:function(){return i}});var n=a(7437),r=a(2265);let l=(0,r.createContext)(null);function i(){let e=(0,r.useContext)(l);if(!e)throw Error("useApiKeys must be used within an ApiProvider");return e}function s(e){let{children:t,apiKeys:a}=e;return(0,n.jsx)(l.Provider,{value:a,children:t})}},8804:function(e,t,a){"use strict";a.d(t,{N:function(){return r}});var n=a(2265);function r(e,t){let[a,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let a=setTimeout(()=>{r(e)},t);return()=>clearTimeout(a)},[e,t]),a}},5682:function(e,t,a){"use strict";a.d(t,{c:function(){return r}});var n=a(2265);function r(e,t,a){let[r,l]=(0,n.useState)(e),[i,s]=(0,n.useState)({});function o(e,a){let n=t[e];if(!n)return;let r=null;if(!n.required&&""===a.trim()){s(t=>({...t,[e]:null}));return}for(let e of[{check:n.required,func:()=>""===a.trim()?"Cannot be left empty":null},{check:n.minLength,func:()=>{var e;return e=n.minLength,a.length<e?"Needs ".concat(e," characters at least"):null}},{check:n.noLetters,func:()=>/[a-zA-Z]/.test(a)?"Cannot insert letters":null},{check:n.noDigits,func:()=>/\d/.test(a)?"Cannot insert digits":null},{check:n.email,func:()=>/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(a)?null:"Invalid email format"},{check:n.link,func:()=>/^(https?:\/\/)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(:[0-9]{1,5})?(\/[^\s]*)?$/.test(a)?null:"Invalid URL format"},{check:n.pattern,func:()=>RegExp("^[a-zA-Z0-9"+n.pattern.source+"]*$").test(a)?null:"Invalid characters used"}])if(!r&&e.check&&(r=e.func()))break;s(t=>({...t,[e]:r}))}async function c(e){e.preventDefault(),a(r)}return{values:r,errors:i,setErrors:s,validateField:o,handleChange:function(e){var a;let{name:n,value:r}=e.target;l(e=>({...e,[n]:r})),"select"!==e.target.tagName.toLowerCase()&&(null===(a=t[n])||void 0===a?void 0:a.required)&&o(n,r)},setFieldValue:function(e,a){var n;l(t=>({...t,[e]:a})),(null===(n=t[e])||void 0===n?void 0:n.required)&&o(e,a.toString())},handleSubmit:c,resetForm:function(){l(e),s({})}}}},2262:function(e,t,a){"use strict";function n(e){let{src:t,width:a,quality:n}=e,[r,l]=t.split("/upload/");return"".concat(r,"/upload/").concat(["f_auto","c_limit","w_".concat(a),"q_".concat(n||"auto")].join(","),"/").concat(l)}a.r(t),a.d(t,{default:function(){return n}})},1641:function(e,t,a){"use strict";a.d(t,{R:function(){return l}});var n=a(1635);let r="game/",l={query:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return n.R.get("".concat(r,"?").concat(t))},getById:async e=>n.R.get("".concat(r,"by-id/").concat(e)),getByName:async e=>n.R.get("".concat(r,"by-name/").concat(e)),checkNameAvailable:async e=>n.R.get("".concat(r,"check-name/").concat(e)),save:async e=>e._id?n.R.put("".concat(r,"update/").concat(e._id),e):n.R.post(r+"add/",e),remove:async e=>n.R.remove("".concat(r,"delete/").concat(e)),getGenres:()=>[{label:"Any",value:"",iconName:"globe"},{label:"Action",value:"action",iconName:"action"},{label:"Adventure",value:"adventure",iconName:"adventure"},{label:"Other",value:"other",iconName:"questionMark"},{label:"Platformer",value:"platformer",iconName:"platformer"},{label:"Puzzle",value:"puzzle",iconName:"puzzle"},{label:"Roguelike",value:"roguelike",iconName:"dice"}],getPlatforms:()=>[{label:"Any",value:"",iconName:"globe"},{label:"Android",value:"android",iconName:"android"},{label:"Browser",value:"html5",iconName:"html5"},{label:"Steam",value:"steam",iconName:"steam"}],getGameJams:()=>[{label:"Any",value:"",iconName:"globe"},{label:"Yes",value:"yes",iconName:"confirm"},{label:"No",value:"no",iconName:"cancel"}]}},1635:function(e,t,a){"use strict";a.d(t,{R:function(){return n}});let n={get(e,t){let a=t?"?".concat(Object.entries(t).map(e=>{let[t,a]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(a)))}).join("&")):"";return r("GET","".concat(e).concat(a))},post:(e,t)=>r("POST",e,t),put:(e,t)=>r("PUT",e,t),remove:(e,t)=>t?r("DELETE",e,t):r("DELETE",e)};async function r(e,t,a){let n="".concat("https://noffty.com/api/").concat(t),r={method:e,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}};"GET"!==e&&a&&(r.body=JSON.stringify(a));try{let e=await fetch(n,r),t=await e.json();if(!e.ok)throw Error(t.message||"An unknown error occurred");return t}catch(e){throw console.error("HTTP Service Error: ",e),e}}},9714:function(e,t,a){"use strict";a.d(t,{N:function(){return n}});let n={getBrowserName:()=>{let e=navigator.userAgent.toLowerCase();switch(!0){case e.includes("chrome")&&!e.includes("edg"):return"Chrome";case e.includes("firefox"):return"Firefox";case e.includes("safari")&&!e.includes("chrome"):return"Safari";case e.includes("edg"):return"Edge";default:return"Other"}},getAllowAttributes:()=>{switch(n.getBrowserName()){case"Chrome":case"Edge":return"fullscreen; midi; gyroscope; accelerometer; cross-origin-isolated;";case"Firefox":return"fullscreen; midi; accelerometer;";default:return"fullscreen; midi;"}},capitalizeString:e=>e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),upperCaseString:e=>e.toUpperCase(),formatDate:e=>{let t=new Date(1e3*e),a=t.getDate().toString().padStart(2,"0"),n=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],r=t.getFullYear();return"".concat(a," ").concat(n," ").concat(r)},getYouTubeEmbedUrl:e=>{let t=new URLSearchParams(new URL(e).search).get("v");return"https://www.youtube.com/embed/".concat(t)},formatText:e=>e.replace(/\n/g,"<br>"),areEqual:(e,t)=>{let a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(let n of a)if(e[n]!==t[n])return!1;return!0},getSocialLinks:()=>[{iconName:"discord",link:"https://discord.gg/SeNsSRt",ariaLabel:"Go to Noffty's Discord channel"},{iconName:"itch",link:"https://t1mure.itch.io/",ariaLabel:"Go to T1mure's Itch.io account"},{iconName:"googlePlay",link:"https://play.google.com/store/apps/dev?id=8915839538887603911&",ariaLabel:"Go to Noffty's Google Play account"},{iconName:"youtube",link:"https://www.youtube.com/channel/UCUCpztVlwt_pz0xDZe_ajIA",ariaLabel:"Go to Noffty's YouTube channel"}]}}},function(e){e.O(0,[648,148,971,23,744],function(){return e(e.s=8849)}),_N_E=e.O()}]);